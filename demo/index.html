<!DOCTYPE html>
<html>

  <head>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script type="text/javascript" src="../dist/js/selectiv.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../dist/css/selectiv.css">

    <style>
      body {
        font: normal 14px 'Open Sans', sans-serif;
        color: #333;
        padding: 15px;
      }
      button[type="submit"] {
        margin-top: 10px;
        margin-bottom: 14px;
        width: 100px;
        height: 30px;
      }
      form {
        width: 45%;
      }
      kbd {
        border: 1px solid #ccc;
        padding: 0 2px;
        border-radius: 2px;
      }
      .select-value {
        margin: 10px 0;
      }
      li {
        margin-bottom: 2px;
      }
    </style>
  </head>


  <body>
    <p>Demo and component by Jay Elaraj. Follow project on github.</p>
    <h1>selectiv component demo for vue.js</h1>
    <form id="tags-example" target="_blank" action="submit.html">
      <h2>Tags:</h2>
      <ul>
        <li>Type something and press <kbd>enter</kbd>, <kbd>tab</kbd>, or <kbd>comma</kbd> to add it.</li>
        <li>Press <kbd>left</kbd> or <kbd>right</kbd> to move cursor position.</li>
        <li>Press backspace to delete tag behind cursor.</li>
      </ul>
      <p class="select-value">{{ name }}={{ selectedValues }}</p>
      <selectiv
        is-multiple
        placeholder="Type something"
        allow-new
        value-delimiter=","
        :name="name"
        :value="value"
        :has-autocomplete="false"
        @change="onChange">
      </selectiv>
      <button type="submit">Submit</button>
    </form>
    <script>
      new Vue({
        el: '#tags-example',
        data: {
          value: 'basketball,football,baseball',
          // array also works:
          // value: ['basketball', 'football', 'baseball'],
          selectedValues: [],
          name: 'tags'
        },
        methods: {
          onChange: function(values) {
            this.selectedValues = values
          }
        }
      })
    </script>

    <hr>

    <form id="multi-example" target="_blank" action="submit.html">
      <h2>Multi-select with autocomplete:</h2>
      <ul>
        <li>Press <kbd>esc</kbd> to close autocomplete, press <kbd>down</kbd> to show it.</li>
        <li>Options passed in as objects, [{{ optionObjects[0] }}, ...].</li>
        <li>"No results" shown when searching for missing option (new entries disallowed).</li>
        <li>Pressing backspace on a selected option will delete it but restores its text.</li>
        <li>Press <kbd>left</kbd> or <kbd>right</kbd> to move cursor position.</li>
      </ul>
      <p class="select-value">{{ name }}={{ selectedValues }}</p>
      <selectiv
        is-multiple
        restore-on-backspace
        placeholder="Type something"
        :name="name"
        :options="optionObjects"
        @change="onChange">
      </selectiv>
      <button type="submit">Submit</button>
    </form>
    <script>
      new Vue({
        el: '#multi-example',
        data: {
          optionObjects: (function() {
            var optionStrings = ['basketball', 'football', 'tennis', 'cricket', 'volleyball', 'soccer', 'table tennis']
            return optionStrings.map(function(o) {
              return { text: o, value: 'id_' + Math.round(Math.random() * 1000) }
            })
          })(),
          selectedValues: [],
          name: 'items[]'
        },
        methods: {
          onChange: function(values) {
            this.selectedValues = values
          }
        }
      })
    </script>

    <hr>

    <form id="custom-multi-example" target="_blank" action="submit.html">
      <h2>Custom multi-select with autocomplete:</h2>
      <ul>
        <li>Custom template for autocomplete options.</li>
        <li>Custom template for selected options.</li>
        <li>Custom "No results" (displays "Contact not found").</li>
      </ul>

      <p class="select-value">{{ name }}={{ selectedValues }}</p>
      <selectiv
        is-multiple
        search-value
        placeholder="Type something"
        :name="name"
        :options="emailList"
        options-text="name"
        options-value="email"
        @change="onChange">
        <template slot="selectedOption" scope="props">
          <span class="option-text" v-html="formatOption(props)"></span>
        </template>
        <template slot="option" scope="props">
          <div v-html="props.textMarked"></div>
          <small v-html="props.valueMarked"></small>
        </template>
        <span slot="noResults" class="no-results">Contact not found</span>
      </selectiv>
      <button type="submit">Submit</button>
    </form>
    <script>
      new Vue({
        el: '#custom-multi-example',
        data: {
          emailList: [{name: 'Jay E', email: 'jay@nerdcave.com'}, {name: 'Mike B', email: 'mike@example.com'}, {name: 'Tommy C', email: 'tommy@something.net' }, { name: 'Jimmy D', email: 'james@whatever.org'}],
          selectedValues: [],
          name: 'emails[]'
        },
        methods: {
          onChange: function(values) {
            this.selectedValues = values
          },
          formatOption: function(props) {
            return props.text.slice(0, props.text.indexOf(' ')) + ' &lt;'+ props.value + '&gt;'
          }
        }
      })
    </script>

    <hr>

    <form id="single-example" target="_blank" action="submit.html">
      <h2>Single select:</h2>
      <ul>
        <li>Single select options passed in as strings ['{{ options[0] }}', ...].</li>
        <li>Initialized with a selected value.</li>
        <li>To select an option, click and hold down mouse button, drag over an option, then release.
        <li>Specifying a placeholder allows selected option to be cleared.</li>
      </ul>
      <p class="select-value">{{ name }}={{ selectedValues }}</p>
      <selectiv
        :name="name"
        placeholder="Choose one..."
        :options="options"
        :value="value"
        @change="onChange">
      </selectiv>
      <button type="submit">Submit</button>
    </form>
    <script>
      new Vue({
        el: '#single-example',
        data: {
          options: ['basketball', 'football', 'tennis', 'cricket', 'volleyball', 'soccer', 'table tennis'],
          value: 'tennis',
          selectedValues: [],
          name: 'sport'
        },
        methods: {
          onChange: function(values) {
            this.selectedValues = values
          }
        }
      })
    </script>


    <div id="all-options-example">
      <h2>All options:</h2>
      <p class="select-value">{{ name }}={{ selectedValues }}</p>
      <form action="submit.html">
        <selectiv
          :name="name"
          :is-multiple="isMultiple"
          :options="options"
          :allow-new="allowNew"
          :placeholder="placeholder"
          :value-delimiter="valueDelimiter"
          :restore-on-backspace="restoreOnBackspace"
          :has-remove-button="hasRemoveButton"
          new-value-format="<<<%value%>>>"
          @change="onChange"
        ></selectiv>
        <button type="submit">Submit</button>
      </form>

      <input type="radio" id="use_single" :value="false" v-model="isMultiple">
      <label for="use_single">Single</label>
      <br>
      <input type="radio" id="use_multiple" :value="true" v-model="isMultiple">
      <label for="use_multiple">Multiple</label>
      <br>

      <input type="radio" id="use_string_options" :value="optionStrings" v-model="options">
      <label for="use_string_options">String options</label>
      <br>
      <input type="radio" id="use_object_options" :value="optionObjects" v-model="options">
      <label for="use_object_options">Object options</label>

      <br>
      <input type="checkbox" id="use_placeholder" v-model="usePlaceholder">
      <label for="use_placeholder">Placeholder</label>
      <input type="text" v-model="placeholderValue" :disabled="!usePlaceholder">


      <br>
      <input type="checkbox" id="allow_new" v-model="allowNew">
      <label for="allow_new">Allow New</label>

      <br>
      <input type="checkbox" id="restore_on_backspace" v-model="restoreOnBackspace">
      <label for="restore_on_backspace">Restore on backspace</label>

      <br>
      <input type="checkbox" id="has_remove_button" v-model="hasRemoveButton">
      <label for="has_remove_button">Has remove button</label>

      <br>
      <input type="checkbox" id="delimiter" v-model="valueDelimiter" true-value="," false-value="">
      <label for="delimiter">Delimiter</label>
    </div>

    <script>
      var optionStrings = ['basketball', 'football', 'tennis', 'cricket', 'volleyball', 'soccer', 'table tennis']
      var vmApp = new Vue({
        el: '#all-options-example',
        props: ['testing'],
        data: {
          optionStrings: optionStrings,
          optionObjects: (function() {
            return optionStrings.map(function(o) {
              return { text: o, value: 'id_' + Math.round(Math.random() * 1000) }
            })
          })(),
          options: optionStrings,
          isMultiple: true,
          useStringOptions: false,
          usePlaceholder: true,
          placeholderValue: 'Choose option...',
          allowClear: true,
          allowNew: false,
          selectedValues: [],
          restoreOnBackspace: false,
          hasRemoveButton: false,
          name: 'items',
          valueDelimiter: ''
        },
        computed: {
          placeholder: function() {
            return this.usePlaceholder ? this.placeholderValue : ''
          }
        },
        methods: {
          onChange: function(values) {
            this.selectedValues = values
          }
        }
      })

    </script>
  </body>
</html>